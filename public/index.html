<!DOCTYPE HTML>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="description" content="web based four player strategy game by David Maynard. Unique, fascinating, musical. based on the 1983 Electronic Arts game Worms?" />
  <title>DARWORMS</title>

  <!--  For Production
    <link rel="stylesheet" href="themes/darworms-themes.css.min.css" />
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css"/>
    -->
  <link rel="apple-touch-icon-precomposed" href="images/darwormslogo-57x57.png" />
  <link rel="apple-touch-icon-precomposed" href="images/darwormslogo-72x72.png" sizes="72x72" />
  <link rel="apple-touch-icon-precomposed" href="images/darwormslogo-114x114.png" sizes="114x114" />
  <link rel="shortcut icon" type="image/png" href="images/darwormslogo-32x32.png">
  <!--link rel="stylesheet" href="themes/darworms-theme.css" -->
  <link rel="stylesheet" href="themes/DarwormsLight.css">
  <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css" />

  <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>

  <script src="./bundle.js"></script>

  <style type=text/css> .ui-page .ui-content { padding-top: 4px; padding-bottom: 4px; padding-left: 4px; padding-right: 4px; } .ui-page .ui-content .ui-block-a.playerbutton1 .ui-block-a { color: red; background: #8c8c8c; font-size: 0.8em;
    padding-bottom: 4px; padding-top: 4px; } .ui-page .ui-content .ui-btn.playerbutton2 .ui-btn-inner { color: green; background: #8c8c8c; font-size: 0.8em; padding-bottom: 4px; padding-top: 4px; } .ui-page .ui-content .ui-btn.playerbutton3
    .ui-btn-inner { color: blue; background: #8c8c8c; font-size: 0.8em; padding-bottom: 4px; padding-top: 4px; } .ui-page .ui-content .ui-btn.playerbutton4 .ui-btn-inner { color: yellow; background: #8c8c8c; font-size: 0.8em; padding-bottom: 4px;
    padding-top: 12px; } .ui-navbar { padding-bottom: 8px; } .right { float: right; width: 100px; } .ui-grayed-out { opacity: 0.4; } .ui-opaque { opacity: 1.0; } .ui-dialog-contain { max-width: 1200px; } p.about { padding-left: 20px; padding-right:
    20px; } #scorecanvas { display: inline-block; padding-top: 0px; padding-bottom: 0px; } #background { display: inline-block; } #animate { display: inline-block; align: right; } #wcanvas { cursor: pointer; } #popupcanvas { cursor: pointer;
    background: #8c8c8c; width: 200px; height: 200px; } @media all and (max-height: 400px) { #canvascontainer { width: 70%; height: 75%; float: left; } #navcontainer { display: none; } #landnavcontainer { height: 70%; float: left; display: block;
    padding-top: 10px; padding-left: 10px; padding-bottom: 4px; } #scorecanvas { height: 20px; width: 70%; padding-top: 2px; padding-bottom: 2px; } } @media all and (min-height: 399px) #wcanvascontainer { width: 100%; text-align: center; } #wcanvas {
    width: 100%; text-align: center; } #landnavcontainer { display: none; } #scorecanvas { height: 30px; } .selectionuicontainer .ui-slider-switch { width: 15em } .pickcellsuicontainer .ui-slider-switch { width: 15em } } #navcontainer { padding: 0px
    0px; margin: 0px; } #wcanvasparagrap { background: "#F5F5F5" ; padding: 0px 0px; margin: 0px; }  div.aboutx {
      padding-left: 20px;
      padding-right: 20px;
    }
  </style>
  </head> <body id="myPages">
    <div data-role="page" data-theme="b" id=menupage>
    <div data-role="header">
      <h1>DARWORMS</h1>
    </div>
    <div data-role="content">
      <a href=#playpage data-role=button data-transition="fade"> Play </a>
      <a href=#settingspage data-role=button data-transition="fade"> Settings </a>
      <a href=#loadsavepage data-role=button data-transition="flip"> Load/Save Game </a>
      <a href=#emailpage data-role=button data-transition="flip"> EMail Game </a>
      <!-- a href=#debugpage data-role=button data-transition="fade"> Peformance </a -->
      <a href=#contactpage data-role=button data-transition="fade"> Contact </a>
      <a href=#aboutpage data-role=button data-transition="flip"> About </a>
    </div>
  </div>
  <div data-role="page" data-theme="b" id=playpage data-add-back-btn=true data-back-btn-text=Menu data-fullscreen=true scroll="no" style="overflow: hidden">
    <div data-role="content" >
      <!-- div id="canvascontainer" class="canvas-container" -->
        <p id="wcanvasparagrap" class ="wcanvasp" align="center" padding-top: "0px"  padding-top: "0px" >

        <canvas id="wcanvas" class="wcanvasclass" padding-top: "0px" ></canvas>
        <br>
        <canvas id="scorecanvas" class="scorecanvasclass" height="20"></canvas>

        </p>


      <!-- div data-role="controlgroup" data-type="horizontal" -->
      <div id="navcontainer" class="ui-grid-c" data-role=navbar>
        <ul>
          <li> <a href="#edit-darworm-page" id="p1button" data-theme="c" data-transition="fade"> Red  </a> </li>
          <li> <a href="#edit-darworm-page" id="p2button" data-theme="d" data-transition="fade"> Green   </a> </li>
          <li> <a href="#edit-darworm-page" id="p3button" data-theme="e" data-transition="fade"> Blue  </a> </li>
          <li> <a href="#edit-darworm-page" id="p4button" data-theme="f" data-transition="fade"> Yellow  </a> </li>

        </ul>
      </div>
      <div id="landnavcontainer">
        <div data-role="controlgroup">
          <ul>
            <a href="#edit-darworm-page" id="p1Lbutton" data-role="button" data-theme="c" data-transition="fade"> Red  </a>
            <a href="#edit-darworm-page" id="p2Lbutton" data-role="button" data-theme="d" data-transition="fade"> Green  </a>
            <a href="#edit-darworm-page" id="p3Lbutton" data-role="button" data-theme="e" data-transition="fade"> Blue  </a>
            <a href="#edit-darworm-page" id="p4Lbutton" data-role="button" data-theme="f" data-transition="fade"> Yellow  </a>

          </ul>
        </div>
      </div>
      <div data-role="popup" id="tutorialpopup" data-position-to="origin" data-theme="a"  data-overlay-theme='none' data-transition="turn">
        <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-right">x</a>
        <p>Your Darworm has never seen this grid cell pattern before.
          <br> Dismiss this dialog, then choose a direction to go in<br>Your Darworm will remember this choice each time it sees this pattern.
        </p>
        <div id="popupcanvascontainer" align="center">
          <canvas id="popupcanvas" class="popupcanvasclass"></canvas>
        </div>
        <label>
        <a id="popupbutton" data-role=button data-inline="true" class="ui-btn ui-shadow ui-corner-all" onclick=darworms.disableTutorialPopup(true)>Got It! Don't show this again</a>
        </label>
      </div>

      <div data-role=footer id="footerbar" class="ui-bar" data-theme="b">
        <div id="menufooter" data-role=navbar>
          <ul>
            <li><a id="startpause" data-role=button onclick=darworms.startgame(true)>Start Game</a></li>
            <li><a id="menubutton" data-role=button onclick=darworms.menuButton()>Menu</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div data-role="page" data-theme="a" id=settingspage data-add-back-btn=true data-back-btn-text=Menu>
    <div data-role="header">
      <a href="#menupage">Menu</a>

      <h1>Settings</h1>
      <a href="#playpage">Play</a>
    </div>

    <div data-role=content id="realtimesettings">

      <div data-role="fieldcontain">
        <label for="fps">Frames/Sec:</label>
        <input type="range" name="fps" id="fps" value="4" min="1" max="60" />
      </div>
      <div data-role="fieldcontain" id="gridsizeslider">
        <label for="gridsize">Grid Size:</label>
        <input type="range" name="gridsize" id="gridsize" value="10" step="2" min="4" max="100" />
      </div>
      <div data-role="fieldcontain">
        <label for="audiovol">Volume:</label>
        <input type="range" name="fps" id="audiovol" value="30" min="0" max="100" />
      </div>

    </div>
    <div data-role="controlgroup" data-type="horizontal">
      <fieldset data-role="controlgroup" data-type="horizontal">
        <form id="background" name="background">
          <label for="backg">Background:</label>
          <select name="backg" id="backg" value="1" data-role="slider" data-mini='true'>
                    <option value=1>Dark</option>
                    <option value=0>Light</option>
                </select>
        </form>
      </fieldset>
    </div>
    <div data-role="controlgroup" data-type="horizontal">
      <fieldset data-role="controlgroup" data-type="horizontal">
        <form id="screensaver" name="screensaver">
          <label for="scrnsvr">Screen Saver Mode:</label>
          <select name="scrnsvr" id="scrnsvr" data-role="slider" data-mini='true'>
                    <option value=0>Off</option>
                    <option value=1>On</option>
                </select>
        </form>
      </fieldset>
    </div>
    <div data-role="controlgroup" data-type="horizontal">
      <fieldset data-role="controlgroup" data-type="horizontal">
        <form id="doAudio" name="Audio">
          <label for="audioon">Audio:</label>
          <select name="audioon" id="audioon" data-role="slider" data-mini='true'>
                    <option value=1>On</option>
                    <option value=0>Off</option>
                </select>
        </form>
      </fieldset>
    </div>

    <div data-role="controlgroup" data-type="horizontal">
      <fieldset data-role="controlgroup" data-type="horizontal">
        <form id="fixedInitPos" name="FixedInitPos">
          <label for="fixedinitpos">Starting Locations: </label>
          <select name="fixedinitpos" id="fixedinitpos" data-role="slider" data-mini='false'>
                    <option value=1>Center </option>
                    <option value=0>Random </option>
                </select>
        </form>
      </fieldset>
    </div>

    <div data-role="controlgroup" data-type="horizontal" class="pickcellsuicontainer">
      <fieldset data-role="controlgroup" data-type="horizontal">
        <form id="pickdirectionui" name="pickdirectionui">
          <label for="pickDirectionUI">Choose Cell or choose Screen quadrant to select a direction:</label>
          <select name="pickDirectionUI" id="pickDirectionUI" data-mini="false" data-role="slider" value='0'>
                    <option value=0>Click on Cell</option>
                    <option value=1>Click on Screen Quadrant</option>
                </select>
        </form>
      </fieldset>
    </div>
    <div data-role="controlgroup" data-type="horizontal">
      <fieldset data-role="controlgroup" data-type="horizontal">
        <form id="animate" name="animate" class="right">
          <label for="doanim">Show All Moves:</label>
          <select name="doanim" id="doanim" data-role="slider" data-mini='true'>
                    <option value=true>Yes</option>
                    <option value=false>No</option>
                </select>
        </form>
      </fieldset>
    </div>
    <div data-role=content id="geometryradios">
      <form>
        <fieldset data-role="controlgroup" id="geometry-radiobuttons">
          <legend>At edge of grid Darworms will:</legend>
          <input type="radio" name="geometry-radio-choice" id="geometry-radio-torus" checked="checked" value="torus">
          <label for="geometry-radio-torus">Wrap around (Torus)</label>

          <input type="radio" name="geometry-radio-choice" id="geometry-radio-falloff" value="falloff">
          <label for="geometry-radio-falloff">Fall off and die </label>

          <input type="radio" name="geometry-radio-choice" id="geometry-radio-reflect" value="reflect">
          <label for="geometry-radio-reflect">Reflect back into grid </label>

        </fieldset>
      </form>

    </div>
    <a id="abortgame" data-role=button data-inline="true" onclick=darworms.abortgame()>Abort Game</a>

  </div>
  <div data-role="dialog" id="abortdialog">
    <div data-role="header">
      <h1>Abort Really?</h1>
    </div>
    <a id="yesabortgame" data-role=button data-inline="true" onclick=darworms.yesabortgame()>Yes</a>
    <a id="noabortgame" data-role=button data-inline="true" onclick=darworms.noabortgame()>No</a>
    <div data-role="content" id="text">
    </div>
  </div>
  <div data-role="page" data-theme="a" id=debugpage data-add-back-btn=true data-back-btn-text=Menu>
      <div data-role="header">
      <a href="#menupage">Back</a>
      <h1>Performance</h1>
    </div>
    <div data-role=content>
      <div data-role="collapsible">
        <h1>Performance</h1>

        <div>Frames <b><span id="wormframes"> &nbsp;</span></b>
          <br/>Min Time: <b><span id="wormmintime">&nbsp;</span></b>
          <br/>Max Time: <b><span id="wormmaxtime">&nbsp;</span></b>
          <br/>Average Time: <b><span id="wormavetime">&nbsp;</span></b>
          <br/>FPS: <b><span id="wormfps">&nbsp;</span></b><br/>
          <br/>Min Interval: <b><span id="wormframemintime">&nbsp;</span></b>
          <br/>Max Interval: <b><span id="wormframemaxtime">&nbsp;</span></b>
          <br/>Average Interval: <b><span id="wormframeavetime">&nbsp;</span></b>
          <br/>Target Interval: <b><span id="wormframetargettime">&nbsp;</span></b>
          <br/>Percent Time in Draw: <b><span id="wormframepercenttime">&nbsp;</span></b>
          <br/> Total Time in Draw: <b><span id="wormframetotaltime">&nbsp;</span></b>
        </div>
      </div>
      <div>
        <form id="newevent1info" name="newevent1info">
          <label for="debug">Alerts:</label>
          <select name="debug" id="debug" data-role="slider" data-mini='true'>
                    <option value="0">Off</option>
                    <option value=1>On</option>
                </select>

        </form>

        <form id="loggingform" name="loggingform" align="left">
          <label for="logging">Logging to Console:</label>
          <select name="logging" id="logging" data-role="slider" data-mini='true'>
                    <option value=false>No</option>
                    <option value=true>Yes</option>
                </select>

        </form>
      </div>
    </div>
  </div>

  <div data-role="page" data-theme="a" data-darworm="selector" id="edit-darworm-page" data-selecteddarworm=0 overflow:scroll>
    <div data-role="header">
      <a href="#playpage">Back</a>

      <h1>Select Darworm Type</h1>
      <button  id='nextbutton'>Next</button>
    </div>
    <div data-role="content" class="darwormTypeRadioButtons">
      <form>
        <fieldset data-role="controlgroup" id="wTypeRadioButtons">
          <legend>Choose Darworm type for next game:</legend>
          <input type="radio" name="edit-radio-choice" id="edit-radio-choice-1" value="none">
          <label for="edit-radio-choice-1">None</label>

          <input type="radio" name="edit-radio-choice" id="edit-radio-choice-5" value="smart">
          <label for="edit-radio-choice-5">Smart</label>

          <input type="radio" name="edit-radio-choice" id="edit-radio-choice-2" value="random">
          <label for="edit-radio-choice-2">Random</label>

          <input type="radio" name="edit-radio-choice" id="edit-radio-choice-3" value="same">
          <label for="edit-radio-choice-3">Same</label>

          <input type="radio" name="edit-radio-choice" id="edit-radio-choice-4" value="new">
          <label for="edit-radio-choice-4">New</label>
        </fieldset>
      </form>
      <div role="main" class="ui-content">
        <label for="edittextfield" id="darwormdeflabel">Darworm Definition:</label>
        <input type="text" name="edit-textname" id="edittextfield" value="">
      </div>
    </div>
    <div data-role="content">
      <form>
        <div class="ui-field-contain">
          <label for="select-instrument">Instrument:</label>
          <select name="select-instrument" onchange="darworms.setInstrumentVal(0)" id="select-instrument-dropdown">

    </select>
        </div>

        <div class="ui-field-contain">
          <label for="select-key">Key:</label>
          <select name="select-key" onchange="darworms.setKeyVal(0)" data-inline="true" id="select-native-key">

    </select>

          <a id="playButton" class="playKeyNotes" data-role=button data-inline="true" onclick='darworms.playScale()'>Play Key Notes</a>
        </div>

      </form>
      <div data-role=content id="completeButton" data-mini='true'>
        <a id="completedarwormai" data-role=button data-inline="true" onclick=darworms.completeTrainingAI()>Let AI Train</a>
        <a id="completedarwormrand" data-role=button data-inline="true" onclick=darworms.completeTrainingRand()>Randomly Train</a>
      </div>
    <div>
        <a id="emailDarwormButton" class="email darworm" data-role=button data-inline="true" onclick='darworms.emailDarwormButton()'>email darworm</a>
      </div>
    </div>
  </div>




  <div data-role="page" data-theme="a" id=aboutpage>
    <div data-role="header">
      <a href="#menupage">Back</a>
      <h1>About Darworms</h1>
    </div>
    <div data-role="content">
      <div class="aboutx">
        <h2> Darworms is a territory capture strategy game for one to four players.</h2>

      <p> Darworms are creatures that crawl about on a hex grid eating the grid lines. Darworms leave a grid point by eating one of the six grid lines exiting the point. If all six grid lines are eaten there is no way out and the Darworm starves to death. Darworms each contain a
        program instructing it which direction to go for each of the 64 possible grid hexes it can encounter. There 64 possible patterns of which lines are eaten and which are not in a grid hex it can encounter. You train, or program, your Darworm by playing games. Each time your Darworm sees a new pattern of grid lines, a previously unseenn hex cell, it stops
        and asks you which direction to go. It remembers this and adds it to its program. The next time it sees the same pattern of grid lines it will go in that same direction again without stopping to ask you which way to go. Soon your Darworm will
        take off on its own. It may take several games to completely train (program) your Darworm.</p>

      <p> The Darworm that eats the sixth and last spoke in any grid point captures that grid point. You get one point for each grid point you capture. "The fact that you can rip off some other worm's territory just by being the last one to lay a trail in
        it gives <i>Worms?</i> all the strategic fascination of ancient, classic games like Go and Chess" William Michael Brown's game review from William Michael Brown's review in <i>Electronic Fun with Computers and Games, September 1983</i></a></p>

      <p> You can generate a Darworm with a preset randomly chosen program or train a new Darworm yourself. You can play the same Darworm in successive games.</p>
      <p>The initial setup pits you against a Darworm that has been randomly pre-programmed in advance which direction to go given the pattern of its current grid cell. Your Darwin initially has no training. It doesn't know which way to go for any grid cell
        pattern. So it asks you which direction to go every time it sees a grid pattern it hasn't seen before. Eventually your Darworm will be able to move on its own using the training you have given it. When a game ends the default it to use the "SAME"
        Darworm for the next game, that is to use the existing training and add new training as new configurations are seen in each new game.

        <p> Or you can just set all four Darworms on "RANDOM" and watch and hear a game play that in all probability no one else has ever seen nor heard.  There is also a screensaver mode which continuously plays random games. Screen saver mode lets you choose the number of players, the game speed, and the musical instrument for each player</p>

        <p> On the <a href=#settingspage data-transition="fade"> Settings Page </a> you can control many parameters of the game such as grid size, and the default Darworm speed. </p>
        <p> Pushing one of the four large color buttons brings up page to select the type of Darworm (None, Random, Same, or New) as well as additional attributes for the Darworm including the instrument sample to use and the musical scale associated with the six different notes a darworm can produce based on the six different directions a darworm can move.</p>

        <p> <a href=#edit-darworm-page data-transition="fade"> Darworm Properties  </a>
        </p>

        <p> Based on the 1983 Electron Arts Game <a href=https://en.wikipedia.org/wiki/Worms%3F> Worms? </a> By David S. Maynard</p>

        <p> Inspired by Martin Gardner's <b> Mathematical Games column </b> <i> Fantastic patterns traced by programmed "worms" </i>in the November 1973 issue of Scientific American
        <a href=https://en.wikipedia.org/wiki/Paterson%27s_worms> Paterson's worms</a></p>
        <p id="versionstring">Darworms version 0.9.0</p>
        <p id="builddate">Unknown</p>
        <p> MIT License</p>
        <p> Copyright (c) 2012-2018 David S. Maynard
          <davidsmaynard@gmail.com>
        </p>
        <p> Credits and Unusually Helpful References: </p>
        <p> Instrument samples courtsy of  <a href=https://freewavesamples.com> Free Wave Samples </a> </p>
        <p> Web Audio Tutorials  <a href=https://middleearmedia.com> Middle Ear Media</a> </p>
        <p> HTML5 Games by Jacob Seidelin <a href=https://www.amazon.com/HTML5-Games-Creating-CSS3-WebGL/dp/1119975085/ref=pd_lpo_sbs_14_t_0?_encoding=UTF8&psc=1&refRID=3W5QYJN09E7JFZWG5XDS> amazon </a> </p>
        <p> Understanding ES6 by Nicholas C. Zakas <a href=https://leanpub.com/understandinges6> leanpub </a> </p>
        <p> Web Storage, React, Gatsby Tutorials <a href=https://www.taniarascia.com/> Tania Rascia's blog </a> </p>
        <div class="ui-grid-a ui-responsive">
            <div class="ui-block-a"><a href=#menupage class="ui-btn ui-shadow ui-corner-all">Menu</a></div>
            <div class="ui-block-b"><a href=#playpage class="ui-btn ui-shadow ui-corner-all">Play</a></div>
        </div>
        </div>
    </div>
  </div>
  <div data-role="page" data-theme="a" id=loadsavepage>
    <div data-role="header">
      <a href="#menupage">Back</a>
      <h1>Load/Save Game</h1>
    </div>
    <div data-role="ui-content">
          <div class="ui-grid-a ui-responsive">
            <div class="ui-block-a"><a href=#menupage class="ui-btn ui-shadow ui-corner-all">Cancel</a></div>
            <a id="loadsavegame" data-role=button data-inline="true"  class="ui-btn ui-shadow ui-corner-all" onclick=darworms.saveGame()>Save Game</a>
        </div>
       <h3>Saved Games</h3>
        <ul data-role="listview" id="savedgames" data-icon="delete-black" data-split-icon="delete" data-split-theme="c" style="margin: 20px;" >


        </ul>
        </div>
  </div>
  <div data-role="page" data-theme="a" id=emailpage>
    <div data-role="header">
      <a href="#menupage">Back</a>
      <h1>Email Game</h1>
    </div>
    <div data-role="content">
      <p> You can email a link to the game to a friend.  You friend will be able to get a replay of the last game you played by simply clicking on the link.  This will use your own local email  client program.  You will be able to review the email before you send it.  This program does not and will not ever have any access to your email or to your contacts.</p>



        <div class="ui-grid-a ui-responsive">
            <div class="ui-block-a"><a href=#menupage class="ui-btn ui-shadow ui-corner-all">Cancel</a></div>
            <a id="invokemail" data-role=button data-inline="true"  class="ui-btn ui-shadow ui-corner-all" onclick=darworms.sendemail()>Launch email client</a>        </div>
    </div>
  </div>
  <div data-role="page" data-theme="a" id=contactpage>
    <div data-role="header">
      <a href="#menupage">Back</a>
      <h1>Contact</h1>
    </div>
      <div class="aboutx">
        <form name="contact" method="POST" data-netlify="true">
  <p>
    <label>Your Name: <input type="text" name="name" /></label>
  </p>
  <p>
    <label>Your Email: <input type="email" name="email" /></label>
  </p>
  <p>

  </p>
  <p>
    <label>Message: <textarea name="message"></textarea></label>
  </p>
  <p>
    <button type="submit">Send</button>
  </p>
</form>
  </div>
  </div>
</body>

</html>
